<html>

<link rel="stylesheet" href="../assets/style/addrecipe.css">

<body>
    <div class="contact-form">
      <span class="heading">Add New Recipe</span>
      <form id="addrecipe">
        <label for="image">Image Url</label>
        <input type="url" required="" id="imgurl">
        <label for="head">recipe Name</label>
        <input type="text" required="" id="recipename">
        <label for="head">About</label>
        <input type="text" required="" id="About">
        <label for="head">Ingredients</label>
        <input type="text" required="" id="Ingredients">
        <label for="head">Step1</label>
        <input type="text" required="" id="Step1">
        <label for="head">Step2</label>
        <input type="text" required="" id="Step2">
        <label for="head">Step3</label>
        <input type="text" required="" id="Step3">
        <label for="head">Step4</label>
        <input type="text" required="" id="Step4">
        <label for="head">Step5</label>
        <input type="text" required="" id="Step5"> 
        <label for="head">Varities</label>
        <select name="Varities" id="Varities">
        <option value="1" id="snack">Snacks</option>
        <option value="2" id="Non-veg">Non-veg</option>
        <option value="3" id="Veg">Veg</option>
      </select>
        <button type="submit">Submit</button>
      </form>
    </div>
    <script>
      let recipe = document.getElementById("addrecipe")
      recipe.addEventListener("submit", function (event) {
        event.preventDefault();
        let e = document.getElementById("Varities")
        let value = e.value
        let text = e.options[e.selectedIndex].text
        let array = [];
        if (localStorage.getItem("newRecipe") != null) {
          array = JSON.parse(localStorage.getItem("newRecipe"))
        }
        let Image = document.getElementById("imgurl").value
        let para = document.getElementById("recipename").value
        let about = document.getElementById("About").value
        let ingredients = document.getElementById("Ingredients").value
        let Step1 = document.getElementById("Step1").value
        let Step2 = document.getElementById("Step2").value
        let Step3 = document.getElementById("Step3").value
        let Step4 = document.getElementById("Step4").value
        let Step5 = document.getElementById("Step5").value
        let recipe_id = Date.now();
        let newrecipe = {
          image_url: Image,
          h2_cardtitle: para,
          message: about,
          ingredients:Ingredients,
          Step1:Step1,
          Step2:Step2,
          Step3:Step3,
          Step4:Step4,
          Step5:Step5,
          Varities:text,
          recipe_id:recipe_id,
        }
        array.push(newrecipe);
        let imgabout = JSON.stringify(array);
        localStorage.setItem("newRecipe", imgabout);
        window.location.href = "./non-veg.html";
        alert("submitted")
      });
     
    </script>
</body>
</html>