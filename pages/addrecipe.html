<html>

<link rel="stylesheet" href="../assets/style/addrecipe.css">

<body>

  

    <div class="contact-form">
      <span class="heading">Add New Recipe</span>
      <form id="addrecipe">
        <label for="image">Image Url</label>
        <input type="url" required="" id="imgurl">
        <label for="head">recipe Name</label>
        <input type="text" required="" id="h2_cardtitle">
        <!-- <label for="name" id="h2">RecipeName</label>
        <input type="text"> -->
        <textarea id="message" name="message" required="" type="textarea">about</textarea>
        <button type="submit">Submit</button>
         <!-- <button type="submit" id="edit_card">Edit</button> -->
         <button type="submit" id="edit_card" data-id="{{recipe.recipe_id}}">Edit</button>

      </form>
    </div>
    <script>
      let recipe = document.getElementById("addrecipe")
      recipe.addEventListener("submit", function (event) {
        event.preventDefault();

        let array = [];
        if (localStorage.getItem("newRecipe") != null) {
          array = JSON.parse(localStorage.getItem("newRecipe"))
        }

        let Image = document.getElementById("imgurl").value
        let para = document.getElementById("h2_cardtitle").value
        let about = document.getElementById("message").value
        let recipe_id = Date.now();

        let newrecipe = {
          "image_url": Image,
          "h2_cardtitle": para,
          "message": about,
          "recipe_id":recipe_id,
        }
        array.push(newrecipe);
        let imgabout = JSON.stringify(array);
        localStorage.setItem("newRecipe", imgabout);
        window.location.href = "../index.html";
      });

  
//       let editBtns = document.querySelectorAll("#edit_card");
// editBtns.forEach(btn => {
//   btn.addEventListener("click", function(event) {
//     event.preventDefault();
//     let recipe_id = this.getAttribute("data-id");
//     populateForm(recipe_id);
//   });
//   window.location.href = "../index.html";
// });

    </script>
</body>
</html>